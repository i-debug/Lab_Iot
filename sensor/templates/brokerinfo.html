{% extends 'layout.html' %}

{% block content %}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>系统信息</title>
    <!-- Add Bootstrap CDN link -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOB

</head>
<body>
    <div class="container mt-5">
        <h1>系 统 信 息</h1>

        <!-- Latest Sensor Data Card -->
{#        <div class="card mb-4">#}
{#            <div class="card-body">#}
{#                <h5 class="card-title">最新上报时间:{{ broker_info.Timestamp }}</h5>#}
{#                <!-- Add your existing code for displaying latest sensor data here -->#}
{#            </div>#}
{#        </div>#}

        <!-- Broker Information Table -->
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Broker Information:</h5>
                <table class="table table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th>Version</th>
                            <th>Uptime (seconds)</th>
                            <th>Clients Connected</th>
                            <th>Messages Received</th>
                            <th>Messages Sent</th>
                            <th>Messages Stored</th>
                            <th>Bytes Received</th>
                            <th>Bytes Sent</th>
                            <th>Subscriptions Count</th>
                            <th>Timestamp</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for broker_info in all_broker_info %}
                        <tr>
                            <td>{{ broker_info.version }}</td>
                            <td>{{ broker_info.uptime }}</td>
                            <td>{{ broker_info.clients_connected }}</td>
                            <td>{{ broker_info.messages_received }}</td>
                            <td>{{ broker_info.messages_sent }}</td>
                            <td>{{ broker_info.messages_stored }}</td>
                            <td>{{ broker_info.bytes_received }}</td>
                            <td>{{ broker_info.bytes_sent }}</td>
                            <td>{{ broker_info.subscriptions_count }}</td>
                            <td>{{ broker_info.timestamp }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>

        <ul class="pagination" style="float: left;">
            {{ page_string }}
            <li>
                <form style="float: left;margin-left: -1px" method="get">
                    <input name="page"
                           style="position: relative;float: left;display: inline-block;width: 80px;border-radius: 0;"
                           type="text" class="form-control" placeholder="页码">
                    <button style="border-radius: 0" class="btn-default" type="submit">跳转</button>
                </form>
            </li>
        </ul>
{#        <nav aria-label="Page navigation">#}
{#            <ul class="pagination justify-content-center">#}
{#                {% if all_broker_info.has_previous %}#}
{#                    <li class="page-item">#}
{#                        <a class="page-link" href="?page=1" aria-label="First">#}
{#                            <span aria-hidden="true">&laquo;&laquo;</span>#}
{#                        </a>#}
{#                    </li>#}
{#                    <li class="page-item">#}
{#                        <a class="page-link" href="?page={{ all_broker_info.previous_page_number }}"#}
{#                           aria-label="Previous">#}
{#                            <span aria-hidden="true">&laquo;</span>#}
{#                        </a>#}
{#                    </li>#}
{#                {% endif %}#}
{#                {% for i in all_broker_info.paginator.page_range %}#}
{#                    <li class="page-item {% if i == all_broker_info.number %}active{% endif %}">#}
{#                        <a class="page-link" href="?page={{ i }}">{{ i }}</a>#}
{#                    </li>#}
{#                {% endfor %}#}
{#                {% if all_broker_info.has_next %}#}
{#                    <li class="page-item">#}
{#                        <a class="page-link" href="?page={{ all_broker_info.next_page_number }}" aria-label="Next">#}
{#                            <span aria-hidden="true">&raquo;</span>#}
{#                        </a>#}
{#                    </li>#}
{#                    <li class="page-item">#}
{#                        <a class="page-link" href="?page={{ all_broker_info.paginator.num_pages }}" aria-label="Last">#}
{#                            <span aria-hidden="true">&raquo;&raquo;</span>#}
{#                        </a>#}
{#                    </li>#}
{#                {% endif %}#}
{#            </ul>#}
{#        </nav>#}

    </div>
    <!-- Add Bootstrap JS and Popper.js CDN links -->
{#    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"#}
{#        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"#}
{#        crossorigin="anonymous"></script>#}
{#    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"#}
{#        integrity="sha384-Jqd/ZMoq8ihfu7Z9Bz+Zl+ejA3RcA+Jv+0F5qPDHCtNB/8PnUp9Ijsld9B5C5DH"#}
{#        crossorigin="anonymous"></script>#}
{#    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"#}
{#        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8sh+Wyq9R3S4GlxUvfofpbPV5u74WO5ptL4x2f"#}
{#        crossorigin="anonymous"></script>#}
</body>

{% endblock %}
